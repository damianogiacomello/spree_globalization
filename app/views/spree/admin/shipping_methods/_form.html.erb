<script type="text/javascript">
	$(document).ready(function() {
		$("#tabs_sm").tabs();
	});
</script>
<div data-hook="admin_shipping_method_form_fields" class="alpha twelve columns">
  <div id="tabs_sm" class="twelve columns">
<% if(Spree::Config[:locale].split(",").blank? && Spree::Config[:locale].split(",").count <= 1) %>
    <%= f.field_container :name do %>
      <%= f.label :name, t(:name) %><br />
      <%= f.text_field :name, :class => 'fullwidth' %>
      <%= error_message_on :shipping_method, :name %>
    <% end %>
<% else %>
	<ul>
		<% Spree::Config[:locale].split(",").each do |locale| %>
		<li><%= link_to "#{locale.to_s.titleize}", "#tab_#{locale.to_s}"%></li>
		<% end %>
	</ul>
	<% Spree::Config[:locale].split(",").each do |locale| %>
	<div id="tab_<%= locale.to_s %>">
		<%= f.globalize_fields_for locale.to_sym do |g| %>
		<% Spree::ShippingMethod.translated_attribute_names.each_with_index do |attr, i| %>
		<% if(Spree::ShippingMethod.columns_hash[attr.to_s].type == :text) %>
			<%= g.label attr, t(attr)%><br />
			<%= g.cktext_area attr, {:rows => 13, :class => 'fullwidth'} %>
		<% else %>
			<%= g.label attr, t(attr) %><br />
			<%= g.text_field attr, :class => 'fullwidth title'  %>
		<% end %>
		<% end %>
		<% end %>
	</div>
	<% end %>
<% end %>
  </div>

	<div class="clear"></div>

  <div class="four columns">
    <%= f.field_container :zone_id do %>
      <%= f.label :zone_id, t(:zone) %><br />
      <%= f.collection_select(:zone_id, @available_zones, :id, :name, {}, {:class => 'select2 fullwidth'}) %>
      <%= error_message_on :shipping_method, :zone_id %>
    <% end %>
  </div>

  <div class="omega four columns">
    <%= f.field_container :display_on do %>
      <%= f.label :display_on, t(:display) %><br />
      <%= select(:shipping_method, :display_on, Spree::ShippingMethod::DISPLAY.collect { |display| [t(display), display == :both ? nil : display.to_s] }, {}, {:class => 'select2 fullwidth'}) %>
      <%= error_message_on :shipping_method, :display_on %>
    <% end %>
  </div>
</div>

<div data-hook="admin_shipping_method_form_availability_fields" class="alpha six columns">
  <fieldset class="categories no-border-bottom">
    <legend align="center"><%= t(:availability) %></legend>

    <%= f.field_container :shipping_category do %>
      <%= f.label :shipping_category, t(:shipping_category_choose) %>
      <%= select(:shipping_method, :shipping_category_id, Spree::ShippingCategory.all.collect { |s| [s.name, s.id] }, { :include_blank => "None" }, {:class => 'select2 fullwidth'}) %>
    <% end %>

    <div class="field">
      <%= label_tag t(:match_rule) %>
      <ul>
        <li><%= f.check_box :match_none %> <%= f.label :match_none, t('match_choices.none') %></li>
        <li><%= f.check_box :match_one %>  <%= f.label :match_one, t('match_choices.one') %></li>
        <li><%= f.check_box :match_all %>  <%= f.label :match_all, t('match_choices.all') %></li>
      </ul>
    </div>

  </fieldset>
</div>

<div data-hook="admin_shipping_method_form_calculator_fields" class="omega six columns">
  <%= render :partial => 'spree/admin/shared/calculator_fields', :locals => { :f => f } %>
</div>
